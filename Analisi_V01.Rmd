---
title: "Analisi Dades"
author: "Aleix Martínez Bages i Ignasi Vilarasau Antolín"
date: "1/6/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(readr)
library(ggplot2)
library(stats)
library(magrittr)
```


# 0 Importar conjunt de dades
```{r}
df<- read_csv("data_tirs.csv")
df$X1 <- NULL
df$OT <- as.factor(df$OT)
df$MVP <- as.factor(df$MVP)
#df$OT <- factor(df$OT, levels = c("0","1"), labels = c("Partit","Prorroga"))
```


# 1 PRORROGA

## Visualització de les dades

Volem demostrar que en la pròrroga la precissió és menor, que els jugadors estàn afectats pel cansament i per això fallen més llençaments. D'altre banda, al arribar a la pròrroga implica que el mercador està igualat i els jugadors poden buscar llençaments més "fàcils".

En primer lloc representarem gràficament un la distribució de la precissió 
```{r}
ggplot(df,aes(x=PRES,group=OT,fill=OT))+
  geom_histogram(position="identity",
                 aes(y=..density..),
                 alpha=0.5,
                 binwidth = 12.5) + 
  theme_bw()+xlab("Precissió")+ylab("Densitat")
```

```{r}
ggplot(df, aes(x = OT, y = PRES, fill = OT)) +
  geom_boxplot()+ggtitle("PRES  vs OT")

```

## Comprovem la normalitat de la mostra
```{r}
qqnorm(df$PRES[df$OT == 0], main = "Q-Q Plot Partit")
qqline(df$PRES[df$OT == 0])

qqnorm(df$PRES[df$OT == 1], main = "Q-Q Plot Pròrroga")
qqline(df$PRES[df$OT == 1])
```
El Q-Q Plot de la pròrroga no és cononcloent ja que els valors estàn molt escalonats.

## Hipotesis
La nostra hipòtesis nul·la és que no hi ha diferència entre el partit i la pròrroga, i la hipòtesis alternativa és que si que hi ha un comportament diferent.

```{r}
wilcox.test(x = df$PRES[df$OT == 0], y = df$PRES[df$OT == 1])
```

# 2 Distància llençament
Visualització
```{r}
ggplot(df, aes(x = OT, y = Dist_F, fill = OT)) +
  geom_boxplot()+ggtitle("Distancia Fallar vs OT")
ggplot(df, aes(x = OT, y = Dist_R, fill = OT)) +
  geom_boxplot()+ggtitle("Distancia Encert vs OT")
```

Volem demostrar que és més fàcil tirar d'aprop 
```{r}
hist(df$Dist_R, freq = FALSE, col = "blue")
hist(df$Dist_F, freq = FALSE, col = "red")
```

```{r}
df_DR <- df$Dist_R
df_DR$TYPE <- "Realitzat"
df_DF <- df$Dist_F
df_DF$TYPE <- "Fallat"
df_D <- rbind(df_DR, df_DF)

```


Comprovem amb un test no paramètric
```{r}
wilcox.test(x = df$Dist_R, y = df$Dist_F)
```

# 3 MVP
Volem veure en detall l'actuació dels MVPs
```{r}
ggplot(df, aes(x = MVP, y = Dist_F, fill = MVP)) +
  geom_boxplot()+ggtitle("Distancia Fallar vs MVP")
ggplot(df, aes(x = MVP, y = Dist_R, fill = MVP)) +
  geom_boxplot()+ggtitle("Distancia Encert vs MVP")

ggplot(df, aes(x = MVP, y = Def_F, fill = MVP)) +
  geom_boxplot()+ggtitle("Defensa Fallar vs MVP")
ggplot(df, aes(x = MVP, y = Def_R, fill = MVP)) +
  geom_boxplot()+ggtitle("Defensa Encert vs MVP")
```